<div class="max-w-7xl mx-auto p-4 bg-white rounded-xl shadow-md">
  <h2 class="text-2xl font-bold text-blue-700 mb-4">Opiniones</h2>
  <div *ngIf="opiniones.length === 0" class="text-gray-500 italic mb-4">
    No hay opiniones registradas.
  </div>
  <div class="overflow-x-auto">
    <table *ngIf="opiniones.length > 0" class="min-w-full table-fixed border border-gray-300 text-sm">
      <thead class="bg-blue-500 text-white">
        <tr>
          <th class="py-2 px-6 text-left w-1/5">Email</th>
          <th class="py-2 px-6 text-left w-[100px]">Edad</th>
          <th class="py-2 px-6 text-left w-[120px]">Género</th>
          <th class="py-2 px-6 text-left w-2/5">Opinión</th>
          <th class="py-2 px-6 text-center w-[150px]">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let opinion of opiniones; let i = index" class="border-t hover:bg-gray-50">
          <td class="py-3 px-6">
            <input [(ngModel)]="opinion.email" class="w-full border px-2 py-1 rounded focus:ring-2 focus:ring-blue-400" />
          </td>
          <td class="py-3 px-6">
            <input type="number" [(ngModel)]="opinion.age" class="w-full border px-2 py-1 rounded focus:ring-2 focus:ring-blue-400" />
          </td>
          <td class="py-4 px-6">
            <select [(ngModel)]="opinion.gender" class="w-full border px-2 py-1 rounded focus:ring-2 focus:ring-blue-400">
              <option value="">-- Selecciona --</option>
              <option value="Masculino">Masculino</option>
              <option value="Femenino">Femenino</option>
              <option value="Otro">Otro</option>
            </select>
          </td>
          <td class="py-3 px-6">
            <textarea [(ngModel)]="opinion.opinion" rows="2"
              class="w-full border px-2 py-1 rounded focus:ring-2 focus:ring-blue-400"></textarea>
          </td>
          <td class=" flex py-3 px-7 ">
            <button class="mx-1  bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded"
              (click)="guardarOpinion(i)">Guardar</button>
            <button class=" bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded"
              (click)="eliminarOpinion(i)">Eliminar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
